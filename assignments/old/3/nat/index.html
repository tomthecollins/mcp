<!DOCTYPE html>

<html>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<head>
 <title>Nat Jenkins Looper</title>
</head>

<style type="text/css">

    body {
      position: absolute;
      width: 100%;
      background-color: #D5FFFE;
      color: #B23800;
      font-family: impact;
      text-align: center;
    }

    #effect-buttons {
      background-color: #7CB2AC;
    }

    h1, h2, h3 {
      font-family: impact;
    }

    #w3-button {
      font-family: arial;
    }

    </style>

<body>
    <h1>Nat Jenkins Looper</h1>
    <!--<div id="splash"><div id="rain"></div><div id="logo"></div></div>-->
    <div id="safezone">
      <!--<script>
       function getParameterByName(name) {
         var match = RegExp('[?&]' + name + '=([^&]*)').exec(window.location.search);
         return match && decodeURIComponent(match[1].replace(/\+/g, ' '));
       }
       var subID = getParameterByName("subID");
       var w = document.getElementById("subjectID");
       w.value = subID;
       var expSt = getParameterByName("expSt");
       var w1 = document.getElementById("QExpSt");
       w1.value = expSt;
       var nxtIs = getParameterByName("nxtIs");
       var w2 = document.getElementById("nextIs");
       w2.value = nxtIs;
      </script>-->
      
      <h2>Instructions</h2>
      <p>
       Play some notes, add some effects!
      </p>
      <!--<pre> W E   T Y U   O P   ] \
A S D F G H J K L ; '</pre>-->
      <p>
       That is, key A = pitch C4 (middle C), key W = pitch C&#x266f;4/D&#x266d;4,&#8230;.
      </p>
      <button onclick="Tone.Transport.start();"><h2>Start</h2></button>

      <div id="effect-buttons">
        <h2>Effects</h2>
        <button class="w3-button w3-hover-teal" onclick="var feedbackDelay = new Tone.FeedbackDelay('8n', 0.5).toMaster(); synth.connect(feedbackDelay);"><h3>Delay</h3></button>
        <button class="w3-button w3-hover-teal" onclick="var chorus = new Tone.Chorus(7, 8.5, 3.5);.toMaster(); synth.connect(chorus);"><h3>Chorus</h3></button>
        <button class="w3-button w3-hover-teal" onclick="var dist = new Tone.Distortion(0.8).toMaster(); synth.connect(dist);"><h3>Distortion</h3></button>
        <button class="w3-button w3-hover-teal" onclick="var freeverb = new Tone.Freeverb().toMaster(); freeverb.dampening.value = 50; synth = new Tone.AMSynth().connect(freeverb);"><h3>Reverb</h3></button>
      </div>

      <div id="sound-buttons">
        <h2>Sounds</h2>
        <button class="w3-button w3-hover-teal" onclick="synth = new Tone.PolySynth(6, Tone.MonoSynth);"><h3>Polysynth</h3></button>
        <button class="w3-button w3-hover-teal" onclick="synth = new new Tone.FMSynth().toMaster();;"><h3>Bass</h3></button>
        <button class="w3-button w3-hover-teal" onclick="var feedbackDelay = new Tone.FeedbackDelay('8n', 0.5).toMaster(); synth.connect(feedbackDelay);"><h3>Piano</h3></button>
      </div>

      <h2>Here's what you're playing!</h2>
      
      <div>
       <canvas nx="keyboard" id="keyboard1"></canvas>
       &nbsp;
       <canvas nx="typewriter" id="typewriter1"></canvas>
       &nbsp;
      </div>
      
      <script type="text/javascript" src="./supporting/Tone.min.js"></script>
      <script type="text/javascript" src="./supporting/jquery.min.js"></script>
      <script type="text/javascript" src="./supporting/nexusUI.js"></script>
      <script type="text/javascript" src="./supporting/Interface.js"></script>
      <script type="text/javascript">
       nx.onload = function(){
        // This command defines default colors.
        nx.colorize("#f5871f");
        // Add two octaves to the keyboard.
        keyboard1.octaves = 2;
        // Initialize the keyboard.
        keyboard1.init();
        typewriter1.init();

        new Interface.Button({
          text : "Start",
          activeText : "Stop",
          type : "toggle",
          key : 32, //spacebar
          start : function(){
            Tone.Transport.start();
          },
          end : function(){
            Tone.Transport.stop();
          },
        });

       }
      </script>
    </div>
    


    <script type="text/javascript">
    var console= window['console'] ? window['console'] : { log : function(){} };
    </script>


    <script type="text/javascript" src="./supporting/instr.js"></script>
    <script type="text/javascript" src="./supporting/keykey.js"></script>
    <script type="text/javascript" src="./supporting/procedural.js"></script>
    <script type="text/javascript" src="./supporting/key_type.js"></script>
    
    
</body>
</html>
